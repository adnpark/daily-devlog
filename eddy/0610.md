**ViewController에서 DataSource를 분리하면서 겪은 삽질기 - 리팩토링 이야기.** 

Intro
이번주에 에어비앤비 클론 프로젝트를 진행함.
메인 기능은 위치 검색, 날짜 검색, 가격 검색을 통해서 원하는 숙박 조건을 설정하고, 그에 맞는 숙박 리스트를 받아오는 것이었음.
여기서 위치 검색 기능 구현했음.  

이번 프로젝트의 목표는 단일 책임 원칙을 잘 지키는 객체 지향 설계를 해보는 것이었음. 
하지만 리팩토링을 하면서 여러가지 문제들을 겪었고, 어떤 옵션이 더 좋을까 고민을 많이 했음.
결과적으로 위치 검색 기능만 총 3번이나 리팩토링했는데, 그 과정을 공유

상태 1
네비게이션바에 서치컨트롤러가 존재.
로케이션 서치 VC가 메인 화면을 차지하고 있음.
텍스트를 입력하는 이벤트가 발생하면 추천에서 검색으로 변경됨.

상태 2 (리팩토링 1)
하나의 테이블 뷰로 데이터 소스를 재활용함.
데이터를 가져오는 모델 쪽 로직은 이제 상위 VC와 역할 분리되었음.
하지만 델리게이트를 별도로 분리하겠다는 목적하에 실행 흐름 복잡.

상태 3 (리팩토링 2)
델리게이트와 데이터 소스를 합치고, 하위 컨트롤러.
화면 전환 및 서치 바 관련 로직은 상위 VC에게 위임함.
Delegate 패턴을 왜 써야하는지에 대한 이론이 확실하게 와닿는 느낌.

상태 4 (리팩토링 3)
하위 컨트롤러에 대한 의존성을 추상화. (의존성 역전)
Swinject를 사용하여 의존성을 주입 개선.
